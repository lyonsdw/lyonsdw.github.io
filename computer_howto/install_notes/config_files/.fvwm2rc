# fvwm2rc 7/2003
#   project: migrate this stuff to a new file bit by bit to see what is really needed
#   set up pop up menus

# Unfortunately, order does matter in this file
# The correct order for inserting configurations is:
# 1. Colors
# 2. Assorted configuration paramters such as ClickToFocus, or MWMBorders
# 3. Path setup (ModulePath, PixmapPath, IconPath)
# 4. Style settings, including the default style Style "*" ...
# 5. InitFunction and ResetFunction definitions.
# 6. Other Functions. Functions cannot be forward referenced from
#	other functions, but they can be backward referenced.
# 7. Menus definitions. Same caveats about forward referencing
# 8. Key and Mouse Bindings.
# 9. Module options.

# The order of steps 5, 6, and 7 is not critical, as long as there are
# no forward references to functions or menus.

# If you get it wrong, the most common problem is that color or font settings
# are ignored

###########################################################################
# set up the colors

Style "*" ForeColor linen
Style "*" BackColor grey69

#Set the foreground and background color for selected windows
HilightColor   linen LightSlateGrey

# Menu colors
MenuStyle * Foreground linen
MenuStyle * Background DimGrey
MenuStyle * Greyed SlateGrey
############################################################################

# Now the fonts - one for menus, another for window titles, another for icons
MenuStyle * Font -adobe-helvetica-medium-r-*-*-12-*-*-*-*-*-*-*
WindowFont              -adobe-helvetica-medium-r-*-*-12-*-*-*-*-*-*-*
IconFont                -adobe-helvetica-medium-r-*-*-12-*-*-*-*-*-*-*

###########################################################################
# Set up the major operating modes
#
########################      FOCUS STUFF     ##############################

########################      ICON STUFF     ##############################
Style "*" IconBox -70 1 -1 -140

########################      MWM EMULATION     #######################
Style "*" MWMFunctions
Style "*" HintOverride
Style "*" MWMDecor

########################      MISCELLANEOUS STUFF # #######################
# flip by whole pages on the edge of the screen.
EdgeScroll 100 100

# A modest delay before flipping pages seems to be nice...
# I thresh in a 50 pixel Move-resistance too, just so people
# can try it out.
EdgeResistance 250 5

########################      WINDOW PLACEMENT     #######################
# RandomPlacement prevents user interaction while placing windows:
Style "*" RandomPlacement

# SmartPlacement makes new windows pop-up in blank regions of screen 
# if possible, or falls back to random or interactive placement.
Style "*" SmartPlacement

# NoPPosition instructs fvwm to ignore the PPosition field in window 
# geometry hints. Emacs annoyingly sets PPosition to (0,0)!
Style "*" NoPPosition

########################      DECORATIONS     #######################

###########################################################################
# Set up the virtual desktop and pager

#set the desk top size in units of physical screen size
# DeskTopSize 3x2
DeskTopSize 2x3

# and the reduction scale used for the panner/pager
*FvwmPagerDeskTopScale 32

##########################################################################
# Module path and paths to the icons
#
PixmapPath /usr/include/X11/pixmaps:/usr/X11R6/lib/X11/xfm/pixmaps/
IconPath /usr/include/X11/bitmaps:/usr/X11R6/lib/X11/xfm/bitmaps

############################################################################
# Set the decoration styles and window options
# Order is important!!!!
# If compatible styles are set for a single window in multiple Style
# commands, then the styles are ORed together. If conflicting styles
# are set, the last one specified is used.

# These commands should command before any menus or functions are defined,
# and before the internal pager is started.

# change the default width.
Style "*" BorderWidth 5, HandleWidth 5, Icon unknown1.xpm

Style "Fvwm*"      NoTitle, NoHandles, Sticky, WindowListSkip, BorderWidth 5
Style "FvwmBanner" StaysOnTop
Style "FvwmButtons"  NoTitle, NoHandles, Sticky, WindowListSkip, BorderWidth 5, CirculateSkip
Style "*lock"      NoTitle, NoHandles, Sticky, WindowListSkip, CirculateSkip
Style "xbiff"      NoTitle, NoHandles, Sticky, WindowListSkip, CirculateSkip
Style "ical"       NoHandles, Sticky
Style "xdvi"       NoTitle
Style "xterm"      Icon xterm.xpm
Style "xcalc"      Icon xcalc.xpm, NoButton 2
Style "xbiff"      Icon mail1.xpm, NoButton 2
Style "xman"	   Icon xman.xpm
Style "xgraph"	   Icon graphs.xpm
Style "FvwmButtons"  Icon toolbox.xpm

# Change the Maximize and iconify buttons to up and down triangles.
ButtonStyle 2 5 40x60@0 60x60@0 60x40@0 40x40@1 40x60@1
ButtonStyle 4 5 25x75@0 75x75@0 75x25@0 25x25@1 25x75@1

#############################################################################

# Stuff to do at start-up

# added 7/23/2003
DestroyFunc StartFunction
AddToFunc StartFunction
 + I Module FvwmPager 0 0 
 + I Exec exec xclock -bg sienna1 -geometry 70x70+946+80 &

AddToFunc "InitFunction" "I" Exec exec xterm -fn 7x14 -geometry 120x45+0+0 -T so3

# run ical in full view upper right window 1/2003
AddToFunc "InitFunction" "I" Exec exec ical -calendar ~/a/calendar/ical/maincal -geometry 40x20+1050+0 &

############################################################################
# Now define some handy complex functions

# This one moves and then raises the window if you drag the mouse,
# only raises the window if you click,  or does a RaiseLower if you double 
# click
AddToFunc "Move-or-Raise" "M" Move
+              "C" Raise

# This one maximizes vertically if you click (leaving room for the GoodStuff bar at the
# bottom, or does a full maximization if you double click, or a true full vertical 
# maximization if you just hold the mouse button down.
AddToFunc "maximize_func" "M" Maximize 0 100
+              "C" Maximize 0 80
+              "D" Maximize 100 100


# This one moves and then lowers the window if you drag the mouse,
# only lowers the window if you click,  or does a RaiseLower if you double 
# click
AddToFunc "Move-or-Lower" "M" Move
+              "M" Lower
+              "C" Lower
+              "D" RaiseLower

# This one moves or (de)iconifies:
AddToFunc "Move-or-Iconify" "M" Move
+              "C" Iconify

# This one resizes and then raises the window if you drag the mouse,
# only raises the window if you click,  or does a RaiseLower if you double 
# click
AddToFunc "Resize-or-Raise" "M" Resize
+              "M" Raise
+              "C" Raise
+              "D" RaiseLower

##############################################################################
#now define the menus - defer bindings until later

# This menu is invoked as a sub-menu - it allows you to quit,
# restart, or switch to another WM.
AddToMenu "Quit-Verify" "Really Quit Fvwm?" Title
+              "Yes, Really Quit" Quit
+              "" Nop
+              "No, Don't Quit" Nop

AddToMenu "Admin" "CD/Floppy" Exec exec usermount -T usermount
+ "Network Devices" Exec exec redhat-control-network -T redhat-control-network
+ "Network Config" Exec exec redhat-config-network -T redhat-config-network
+ "Printers" Exec exec gnome-print-manager -T gnome-print-manager

AddToMenu "Utils" "Top" Exec exec xterm -T Top -n Top -e top
+              "Calculator" Exec exec gnome-calculator
+              "xosview" Exec exec xosview
+              "CD burner" Exec exec gtoaster
+              "Scanner" Exec exec xsane
+              "CD player" Exec exec gnome-cd -T gnome-cd CD player

AddToMenu "Connections" "ssh csunix1" Exec xterm -fn 7x14 -geometry 100x36 -fg black -bg white -T csunix1 -e ssh csunix1
+              "ssh su2" Exec xterm -fn 7x14 -geometry 100x36 -fg black -bg white -T cscdev -e ssh su2
+              "ssh cscdev" Exec xterm -fn 7x14 -geometry 100x36 -fg black -bg white -T cscdev -e ssh cscdev
+              "gFTP" Exec exec gftp -T gftp


# This menu will fire up some very common utilities
AddToMenu "Utilities" "Program Menu" Title
# +              "xdvi" Exec exec xdvi
+              "xterm" Exec exec xterm -fn 7x14 -T xterm
+              "big xterm" Exec exec xterm -fn 7x14 -geometry 120x45+0+0 
+              "emacs" Exec exec emacs ~/a -font 7x14 -geometry 100x48 -T emacs
+              "" Nop
+              "Mozilla" Exec exec /usr/bin/mozilla &
+              "Ical" Exec exec ical -calendar ~/a/calendar/ical/maincal
+              "" Nop
+              "Connections" Popup Connections
+              "Utilities" Popup Utils
+              "Admin" Popup Admin
+              "" Nop
+              "Restart fvwm2" Restart fvwm2
+              "Exit Fvwm" Popup Quit-Verify
# how do we make shutdown work from this menu? 
+              "Shutdown" Exec exec /sbin/shutdown -h now

# This defines the most common window operations
AddToMenu "Window Ops" "Window Ops" Title
+              "Move" Function Move-or-Raise
+              "Resize" Function Resize-or-Raise
+              "Raise" Raise
+              "Lower" Lower
+              "(De)Iconify" Iconify
+              "(Un)Stick" Stick
+              "(Un)Maximize" Function maximize_func
+              "" Nop
+              "Destroy" Destroy
+              "Close" Close
+              "" Nop
+              "Refresh Screen" Refresh

# A trimmed down version of "Window Ops", good for binding to decorations
AddToMenu "Window Ops2" "Move" Function Move-or-Raise
+              "Resize" Function Resize-or-Raise
+              "Raise" Raise
+              "Lower" Lower
+              "Iconify" Iconify
+              "(Un)Stick" Stick
+              "" Nop
+              "Destroy" Destroy
+              "Close" Close
+              "" Nop
+              "ScrollBar" Module FvwmScroll 2 2

#############################################################################
# One more complex function - couldn't be defined earlier because it used 
# pop-up menus
#
# This creates a motif-ish sticky menu for the title-bar window-ops
# pop-up
# Menu acts like normal twm menu if you just hold the button down,
# but if you click instead, the menu stays up, motif style
AddToFunc "window_ops_func" "C" PopUp Window Ops2
+              "M" PopUp Window Ops2
# Motif would add:
# I'll add it too, it can be mighty handy.
+              "D" Close


##############################################################################
# This defines the mouse bindings

# First, for the mouse in the root window
# Button 1 gives the Utilities menu
# Button 2 gives the Window Ops menu
# Button 3 gives the WindowList (like TwmWindows)
# I use the AnyModifier (A) option for the modifier field, so you can hold down
# any shift-control-whatever combination you want!

#     Button	Context Modifi 	Function
Mouse 1		R   	A       PopUp "Utilities"
Mouse 2		R    	A      	PopUp "Window Ops"
Mouse 3 R A Module FvwmWinList transient



# Now the title bar buttons
# Any button in the left title-bar button gives the window ops menu
# Any button in the right title-bar button Iconifies the window
# Any button in the rightmost title-bar button maximizes
# Note the use of "Mouse 0" for AnyButton.

#     Button	Context Modifi 	Function
Mouse 0         1       A       Function "window_ops_func"
Mouse 1         2       A       Iconify
Mouse 3         2       A       Destroy
Mouse 1         4       A       Maximize 0 100
Mouse 3         4       A       Maximize 100 100

# Now the rest of the frame
# Here I invoke my complex functions for Move-or-lower, Move-or-raise,
# and Resize-or-Raise. 
# Button 1 in the corner pieces, with any modifiers, gives resize or raise
Mouse 1         FS      A       Resize
# Button 1 in the title, sides, or icon, w/ any modifiers, gives move or raise
Mouse 1         T       A       Function "Move-or-Raise"

# Button 1 in an icons gives move for a drag, de-iconify for a double-click,
# nothing for a single click
# Button 2 in an icon, w/ any modifiers, gives de-iconify

Mouse 1		I	A	Function "Move-or-Iconify"
Mouse 2		I	A	Iconify

# Button 2 in the corners, sides, or title-bar gives the window ops menu
Mouse 2		FST	A	Function "window_ops_func"
# Button 3 anywhere in the decoration (except the title-bar buttons)
# does a raise-lower
Mouse 3		TSIF	A	RaiseLower

# Button 3 in the window, with the Modifier-1 key (usually alt or diamond)
# gives Raise-Lower. Used to use control here, but that interferes with xterm
Mouse 1         W       M       RaiseLower
Mouse 2         W       M       Move
Mouse 3         W       M       Resize

############################################################################
# Now some keyboard shortcuts.

# Arrow Keys
# press arrow + control anywhere, and scroll by 1 page
Key Left	A	C	Scroll -100 0
Key Right	A	C	Scroll +100 +0
Key Up		A	C	Scroll +0   -100
Key Down	A	C	Scroll +0   +100


############################################################################
############################################################################
#Definitions used by the modules

###################### GoodStuff button-bar ################################
#
#  Note -- GoodStuff apparently looks in /usr/X11R6/include/X11/pixmaps
#          for the button icons.  There are more icons in
#          /usr/X11R6/lib/X11/xfm/pixmaps        
#
#  12/19/96 -- added symbolic link in:  /usr/X11R6/include/X11/pixmaps
#     ln -s /usr/X11R6/lib/X11/xfm/pixmaps/netscape.xpm netscape.xpm
#
# Colors
*FvwmButtonsFore Wheat
*FvwmButtonsBack Grey20

# Font
*FvwmButtonsFont -adobe-helvetica-bold-r-*-*-10-*-*-*-*-*-*-*

# Geometry - really likes to pick its own size, but giving a position is OK

# set the pager location

*FvwmButtonsGeometry 70x80+946+0
*FvwmPagerGeometry 70x80+946+0

# Layout: specify rows or columns, not both
*FvwmButtonsColumns 1


######################### No Clutter ########################################
# I only wrote NoClutter as a simple test case, but maybe some big sites like
# universities really have usage problems (too many open windows)....
# Time delays are in seconds.
*FvwmNoClutter 3600 Iconify 1
*FvwmNoClutter 86400 Delete
*FvwmNoCLutter 172800 Destroy

########################## Window-Identifier ###############################
# Just choose colors and a fonts
*FvwmIdentBack MidnightBlue
*FvwmIdentFore Yellow
*FvwmIdentFont -adobe-helvetica-medium-r-*-*-10-*-*-*-*-*-*-*

########################### Pager #########################################
*FvwmPagerBack Black
*FvwmPagerFore sienna1
*FvwmPagerFont -adobe-helvetica-bold-r-*-*-10-*-*-*-*-*-*-*
*FvwmPagerHilight Black
*FvwmPagerLabel 0 Pager

##########################FvwmWinList##################################
*FvwmWinListBack #908090
*FvwmWinListFore Black
*FvwmWinListFont -adobe-helvetica-bold-r-*-*-16-*-*-*-*-*-*-*
*FvwmWinListAction Click1 Iconify -1,Focus
*FvwmWinListAction Click2 Iconify
*FvwmWinListAction Click3 Module "FvwmIdent" FvwmIdent
*FvwmWinListUseSkipList
*FvwmWinListGeometry +0-1
                                      


